---
/**
 * Authors: Gabriel Muñoz, José González, Eduardo Porto
 *
 * Description: This is the dashboard page for the application. 
 * It displays different content based on the user's role (Applicant or Authorizer).
 * 
*/

import MainLayout from "@layouts/MainLayout.astro";
import AuthLayout from "@layouts/AuthLayout.astro";
import ApplicantView from "@views/ApplicantView.astro";
import AuthorizerView from "@views/AuthorizerView.astro";
import viajesDummy from '@data/viajes.json';
import solicitudesDummy from '@data/solicitudes.json';

type Role = "Applicant" | "Authorizer";
const role: Role = "Applicant" as Role;
const pageTitle = "Dashboard";

const headerData = {
	userName: "John Doe",
	userAvatar: "/profile-icon.jpg",
  showButtonLabel: role === "Applicant" ? "Solicitante" : "Autorizador",
};

const sidebarData = { role };

const Layout = role === "Applicant" ? MainLayout : AuthLayout;
---

<Layout title={pageTitle} headerData={headerData} sidebarData={sidebarData}>
  {role === "Applicant" ? (
    <ApplicantView 
      headerData={headerData} 
      requests={viajesDummy} 
    />
  ) : (
    <AuthorizerView 
      headerData={headerData} 
      requests={solicitudesDummy} 
    />
  )}
</Layout>