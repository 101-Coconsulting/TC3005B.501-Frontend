---
/**
 * Author: Julia Maria Stephanie Duenkelsbuehler Castillo Y Nicole Davila
 * 
 * Description: This Astro page renders an application approval screen.
 * It includes sections for travel details and buttons for authorization and rejection.
 */

import MainLayout from "@layouts/MainLayout.astro";
import RequestApproval from "@/components/RequestApproval.astro";

const viajeData = {
  id: 1234,
  usuario: "Jane Smith",
  fechaSalida: "2025-06-15",
  fechaRegreso: "2025-06-20",
  duracion: "5 días",
  destino: "Madrid, Barcelona",
  requerimientos: "Hotel, avión, transporte",
  sitioInteres: "Campus Madrid",
  extras: "Reuniones con clientes"
};

const headerData = {
  userName: "John Doe",
  userAvatar: "/profile-icon.jpg",
  showButtonLabel: "Autorizador"
};

const sidebarData = { role: "Authorizer" };

export async function getStaticPaths() {
  const viajeData = {
    id: 1234,
    usuario: "Jane Smith",
    fechaSalida: "2025-06-15",
    fechaRegreso: "2025-06-20",
    duracion: "5 días",
    destino: "Madrid, Barcelona",
    requerimientos: "Hotel, avión, transporte",
    sitioInteres: "Campus Madrid",
    extras: "Reuniones con clientes"
  };

  return [
    {
      params: { id: viajeData.id.toString() }
    }
  ];
}

const { id } = Astro.params;
---

<MainLayout 
  title={`Viaje #${viajeData.id}`} 
  headerData={headerData} 
  sidebarData={sidebarData}
>
  <RequestApproval request={viajeData} id={id} />
</MainLayout>