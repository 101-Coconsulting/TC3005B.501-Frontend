---
/**
* Authors: Gabriel MuÃ±oz Luna
* Description: Muestra el formulario.
**/
export const prerender = false;

import MainLayout from "@layouts/MainLayout.astro";
import ExpensesForm from "@components/ExpensesForm.astro";

import { getCookie } from "@data/cookies";
import allRequests from "@data/get-user-request.json";
import type { UserRole } from "@type/roles";
import { roleLabels } from "@config/role-labels";

const role: UserRole = getCookie("role") as UserRole;
const userName = getCookie("username");
const buttonLabel = roleLabels[role];

const { id } = Astro.params;
const request = allRequests.find((r: any) => r.request_id === id);
---

<MainLayout title="Crear Recibo" data={{ userName, buttonLabel, role }}>
  <ExpensesForm request={request} />
</MainLayout>
